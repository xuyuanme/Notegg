<!doctype html>
<html>
<head>
    <script type="text/javascript" src="cordova.js"></script>
    <script src="lib/dropbox/dropbox.min.js"></script>
    <script src="lib/angular/angular.js"></script>
    <script src="lib/angular/angular-route.js"></script>
    <script src="lib/angular/angular-touch.js"></script>
    <script src="js/app.js"></script>
    <script src="js/services.js"></script>
    <script src="js/controllers.js"></script>
    <script src="js/filters.js"></script>
    <script src="js/directives.js"></script>
    <link rel="stylesheet" href="css/app.css">
</head>
<body>
<div>
    <button id="writeButton">Click to create <code>notes.txt</code> in Dropbox.</button>
</div>

<script>
    var client = new Dropbox.Client({ key: 'w7hk0g1c2pnqs8g' });
    if (myApp.isPhone) {
        client.authDriver(new Dropbox.AuthDriver.Cordova({rememberUser: false}));
    }
    function doHelloWorld() {
        client.writeFile('notes.txt', 'Hello, World!', function (error) {
            if (error) {
                window.alert('Error: ' + error);
            } else {
                window.alert('File written successfully!');
            }
        });
    }

    document.getElementById('writeButton').onclick = function () {
        client.authenticate(function (error, client) {
            if (error) {
                window.alert('Error: ' + error);
            } else {
                doHelloWorld();
            }
        });
    }
</script>
</body>
</html>